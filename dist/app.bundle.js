/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is not neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/assets.ts":
/*!***********************!*\
  !*** ./src/assets.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Assets\": () => /* binding */ Assets\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n\nvar IMAGE_LIST = {\n    SHIP: \"images/ship.png\",\n    PLANETS: \"images/planets.png\",\n    ELON: \"images/ship.png\",\n    MISSILE: \"images/spaceMissiles_001.png\",\n    SHIELD: \"images/spaceParts_041.png\",\n};\nvar raster = 64;\nvar smallraster = 32;\nvar backgrounds1 = [\n    [4 * raster, 0],\n    [4 * raster, raster + (raster / 2)],\n];\nvar backgrounds2 = [\n    [4 * raster, raster + (raster / 2)],\n    [4 * raster, raster + (raster / 2) * 2],\n    [5 * smallraster, smallraster * 7],\n    [6 * smallraster, smallraster * 7],\n    [7 * smallraster, smallraster * 7],\n    [8 * smallraster, smallraster * 7],\n];\nvar planets = [\n    [0, 0],\n    [1 * raster, 0],\n    [2 * raster, 0],\n    [3 * raster, 0],\n    [1 * raster, raster],\n    [2 * raster, raster],\n    [3 * raster, raster],\n    [4 * raster, raster],\n    [1 * raster, 2 * raster],\n    [2 * raster, 2 * raster],\n    [3 * raster, 2 * raster],\n    [4 * raster, 2 * raster],\n    [0, 3 * raster],\n    [1 * smallraster, 3 * raster],\n    [2 * smallraster, 3 * raster],\n    [3 * smallraster, 3 * raster],\n    [4 * smallraster, 3 * raster],\n    [5 * smallraster, 3 * raster],\n    [6 * smallraster, 3 * raster],\n    [7 * smallraster, 3 * raster],\n];\nvar asteroids = [\n    [0, 3 * raster + smallraster],\n    [1 * smallraster, 3 * raster + smallraster],\n    [2 * smallraster, 3 * raster + smallraster],\n    [3 * smallraster, 3 * raster + smallraster],\n    [4 * smallraster, 3 * raster + smallraster],\n];\nvar Assets = /** @class */ (function () {\n    function Assets() {\n    }\n    Assets.getBackground1 = function (howMuch) {\n        return Assets.getSomeAssets(howMuch, (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__spread)(Assets.backgrounds1));\n    };\n    Assets.getBackground2 = function (howMuch) {\n        return Assets.getSomeAssets(howMuch, (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__spread)(Assets.backgrounds2));\n    };\n    Assets.getPlanets = function (howMuch) {\n        return Assets.getSomeAssets(howMuch, (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__spread)(Assets.planets));\n    };\n    Assets.getAsteroids = function (howMuch) {\n        return Assets.getSomeAssets(howMuch, (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__spread)(Assets.asteroids));\n    };\n    Assets.getSomeAssets = function (howMuch, array) {\n        var data = new Array(howMuch);\n        for (var i = 0; i < howMuch; i++) {\n            data[i] = this.random(array);\n        }\n        return data;\n    };\n    Assets.random = function (array) {\n        return array[Math.floor(Math.random() * array.length)];\n    };\n    Assets.init = function () {\n        var _this = this;\n        var loading = Promise.all(Object.keys(IMAGE_LIST).map(function (image) {\n            var foo = IMAGE_LIST[image];\n            return _this.loadSheet(foo);\n        }));\n        return loading.then(function () {\n            Assets.shipSprite = Assets.createSprite(IMAGE_LIST.SHIP, 90, 210, 0, 0, 310, 978);\n            Assets.bountySprite = Assets.createSprite(IMAGE_LIST.PLANETS, 40, 40, 5 * 32, 6 * 32, 32, 32);\n            Assets.missileImage = Assets.createSprite(IMAGE_LIST.MISSILE);\n            Assets.shieldSprite = Assets.createSprite(IMAGE_LIST.SHIELD);\n            Assets.backgrounds1 = [\n                Assets.createSprite(IMAGE_LIST.PLANETS, 2 * raster, raster + raster / 2, 4 * raster, 0),\n                Assets.createSprite(IMAGE_LIST.PLANETS, 120, 120, 4 * raster, raster + (raster / 2)),\n            ];\n            Assets.backgrounds2 = [\n                Assets.createBackgrounds(backgrounds2[2][0], backgrounds2[2][1], 32, 32),\n                Assets.createBackgrounds(backgrounds2[3][0], backgrounds2[3][1], 32, 32),\n                Assets.createBackgrounds(backgrounds2[4][0], backgrounds2[4][1], 32, 32),\n                Assets.createBackgrounds(backgrounds2[5][0], backgrounds2[5][1], 32, 32),\n            ];\n            Assets.planets = [\n                Assets.createPlanet(planets[0][0], planets[0][1]),\n                Assets.createPlanet(planets[1][0], planets[1][1]),\n                Assets.createPlanet(planets[2][0], planets[2][1]),\n                Assets.createPlanet(planets[3][0], planets[3][1]),\n                Assets.createPlanet(planets[4][0], planets[4][1]),\n                Assets.createPlanet(planets[5][0], planets[5][1]),\n            ];\n            Assets.asteroids = [\n                Assets.createAsteroids(asteroids[0][0], asteroids[0][1]),\n                Assets.createAsteroids(asteroids[3][0], asteroids[3][1]),\n                Assets.createAsteroids(asteroids[4][0], asteroids[4][1]),\n            ];\n        });\n    };\n    Assets.loadSheet = function (src) {\n        return new Promise(function (resolve, reject) {\n            var image = new Image();\n            image.src = src;\n            image.onload = function () { return resolve(); };\n            image.onerror = reject;\n            Assets.spriteSheets.set(src, image);\n        });\n    };\n    Assets.createSprite = function (image, width, height, sx, sy, sw, sh) {\n        var source = this.spriteSheets.get(image);\n        if (source == null) {\n            throw new Error(\"Image not loaded: \" + image);\n        }\n        width = width !== null && width !== void 0 ? width : source.width;\n        height = height !== null && height !== void 0 ? height : source.height;\n        sx = sx !== null && sx !== void 0 ? sx : 0;\n        sy = sy !== null && sy !== void 0 ? sy : 0;\n        sw = sw !== null && sw !== void 0 ? sw : source.width;\n        sh = sh !== null && sh !== void 0 ? sh : source.height;\n        return { source: source, width: width, height: height, sx: sx, sy: sy, sw: sw, sh: sh };\n    };\n    Assets.createBackgrounds = function (posx, posy, w, h) {\n        return this.createSprite(IMAGE_LIST.PLANETS, w, h, posx, posy, w, h);\n    };\n    Assets.createPlanet = function (posx, posy) {\n        return this.createSprite(IMAGE_LIST.PLANETS, 64, 64, posx, posy, 64, 64);\n    };\n    Assets.createAsteroids = function (posx, posy) {\n        return this.createSprite(IMAGE_LIST.PLANETS, 32, 32, posx, posy, 32, 32);\n    };\n    Assets.drawSprite = function (sprite, x, y, ctx, opacity) {\n        if (opacity === void 0) { opacity = 1; }\n        ctx.globalAlpha = opacity;\n        ctx.drawImage(sprite.source, sprite.sx, sprite.sy, sprite.sw, sprite.sh, x, y, sprite.width, sprite.height);\n        ctx.globalAlpha = 1;\n    };\n    Assets.spriteSheets = new Map();\n    return Assets;\n}());\n\n\n\n//# sourceURL=webpack://team-raclette/./src/assets.ts?");

/***/ }),

/***/ "./src/audio-controller.ts":
/*!*********************************!*\
  !*** ./src/audio-controller.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AudioController\": () => /* binding */ AudioController\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n\nvar AudioController = /** @class */ (function () {\n    function AudioController(eventBus) {\n        var _this = this;\n        this.eventBus = eventBus;\n        this.TRIGGER = 0.3;\n        this.MAX_SIZE = 0;\n        this.BUFFER_LENGTH = 2048;\n        // TODO: Let the user calibrate these values\n        /** Lowest control frequency */\n        this.loFreq = Math.log(600);\n        /** Highest control frequency */\n        this.hiFreq = Math.log(1600);\n        this.context = null;\n        this.buffer = new Float32Array(this.BUFFER_LENGTH);\n        this.currentOuptput = 0;\n        this.currentFreq = null;\n        this.initializing = false;\n        this.previousLevel = 0;\n        this.onStream = function (stream) {\n            if (_this.context == null) {\n                throw new Error('Not initialized!');\n            }\n            // Create an AudioNode from the stream.\n            var mediaStreamSource = _this.context.createMediaStreamSource(stream);\n            // Connect it to the destination.\n            _this.analyser = _this.context.createAnalyser();\n            _this.analyser.fftSize = 2048;\n            mediaStreamSource.connect(_this.analyser);\n            _this.updatePitch();\n            _this.initializing = false;\n        };\n        this.updatePitch = function () {\n            var cycles = new Array();\n            if (_this.analyser == null || _this.context == null) {\n                throw new Error('Not initialized!');\n            }\n            _this.analyser.getFloatTimeDomainData(_this.buffer);\n            var currentLevel = 0;\n            for (var i_1 = 0; i_1 < _this.buffer.length; i_1++) {\n                currentLevel = Math.max(Math.abs(_this.buffer[i_1]), currentLevel);\n            }\n            if (_this.previousLevel > currentLevel + _this.TRIGGER) {\n                _this.eventBus.emit({ _type: 'fire' });\n            }\n            _this.previousLevel = currentLevel;\n            if (_this.debugCanvas && window.DEBUG) { // This draws the current waveform, useful for debugging\n                _this.debugCanvas.clearRect(0, 0, 512, 256);\n                _this.debugCanvas.strokeStyle = \"red\";\n                _this.debugCanvas.beginPath();\n                _this.debugCanvas.moveTo(0, 0);\n                _this.debugCanvas.lineTo(0, 256);\n                _this.debugCanvas.moveTo(128, 0);\n                _this.debugCanvas.lineTo(128, 256);\n                _this.debugCanvas.moveTo(256, 0);\n                _this.debugCanvas.lineTo(256, 256);\n                _this.debugCanvas.moveTo(384, 0);\n                _this.debugCanvas.lineTo(384, 256);\n                _this.debugCanvas.moveTo(512, 0);\n                _this.debugCanvas.lineTo(512, 256);\n                _this.debugCanvas.stroke();\n                _this.debugCanvas.strokeStyle = \"white\";\n                _this.debugCanvas.beginPath();\n                _this.debugCanvas.moveTo(0, _this.buffer[0]);\n                for (var i = 1; i < 512; i++) {\n                    _this.debugCanvas.lineTo(i, 64 + -128 * (_this.buffer[i]));\n                }\n                _this.debugCanvas.stroke();\n            }\n            window.requestAnimationFrame(_this.updatePitch);\n            var ac = _this.autoCorrelate(_this.context.sampleRate);\n            if (ac === -1) {\n                _this.currentOuptput = 0;\n                _this.currentFreq = null;\n            }\n            else {\n                _this.currentFreq = Math.log(ac);\n                var delta = _this.hiFreq - _this.loFreq;\n                var value = (_this.currentFreq - _this.loFreq) / delta - 0.5;\n                _this.currentOuptput = -(0,_utils__WEBPACK_IMPORTED_MODULE_0__.clamp)(value * 2, -1, 1); // Invert such that high pitch goes up and low goes down\n            }\n            // if (ac == -1) {\n            //     detectorElem.className = \"vague\";\n            //     pitchElem.innerText = \"--\";\n            //     noteElem.innerText = \"-\";\n            //     detuneElem.className = \"\";\n            //     detuneAmount.innerText = \"--\";\n            // } else {\n            //     detectorElem.className = \"confident\";\n            //     pitch = ac;\n            //     pitchElem.innerText = Math.round( pitch ) ;\n            //     var note =  noteFromPitch( pitch );\n            //     noteElem.innerHTML = noteStrings[note%12];\n            //     var detune = centsOffFromPitch( pitch, note );\n            //     if (detune == 0 ) {\n            //         detuneElem.className = \"\";\n            //         detuneAmount.innerHTML = \"--\";\n            //     } else {\n            //         if (detune < 0)\n            //             detuneElem.className = \"flat\";\n            //         else\n            //             detuneElem.className = \"sharp\";\n            //         detuneAmount.innerHTML = Math.abs( detune );\n            //     }\n            // }\n        };\n        if (window.DEBUG) {\n            var dbgCvs = document.createElement('canvas');\n            dbgCvs.classList.add('debug-canvas');\n            this.debugCanvas = dbgCvs.getContext('2d');\n            dbgCvs.width = 512;\n            dbgCvs.height = 128;\n            document.body.appendChild(dbgCvs);\n        }\n        else {\n            this.debugCanvas = null;\n        }\n    }\n    AudioController.prototype.calibrate = function (data) {\n        this.loFreq = data.minFrequency;\n        this.hiFreq = data.maxFrequency;\n    };\n    /**\n     * For use by the calibration utility: Allows to retrieve the current frequency\n     */\n    AudioController.prototype.getCurrentFrequency = function () {\n        return this.currentFreq;\n    };\n    AudioController.prototype.init = function () {\n        if (this.analyser != null) {\n            console.log('already initialized');\n            return;\n        }\n        if (this.initializing) {\n            console.log('already initializing');\n            return;\n        }\n        this.initializing = true;\n        var AudioContext = window.AudioContext || window.webkitAudioContext;\n        this.context = new AudioContext();\n        this.MAX_SIZE = Math.max(4, Math.floor(this.context.sampleRate / 5000)); // corresponds to a 5kHz signal\n        this.getUserMedia({\n            \"audio\": {\n            // TODO: Figure out if need to turn off echo cancellation\n            // \"mandatory\": {\n            //     \"googEchoCancellation\": \"false\",\n            //     \"googAutoGainControl\": \"false\",\n            //     \"googNoiseSuppression\": \"false\",\n            //     \"googHighpassFilter\": \"false\"\n            // },\n            // \"optional\": []\n            },\n        }, this.onStream);\n    };\n    AudioController.prototype.getOutput = function () {\n        return this.currentOuptput;\n    };\n    AudioController.prototype.getUserMedia = function (constraints, callback) {\n        try {\n            navigator.mediaDevices.getUserMedia(constraints).then(callback, function (err) {\n                console.error(err);\n            });\n        }\n        catch (e) {\n            alert('getUserMedia threw exception :' + e);\n        }\n    };\n    AudioController.prototype.autoCorrelate = function (sampleRate) {\n        // Implements the ACF2+ algorithm\n        var SIZE = this.buffer.length;\n        var rms = 0;\n        for (var i = 0; i < SIZE; i++) {\n            var val = this.buffer[i];\n            rms += val * val;\n        }\n        rms = Math.sqrt(rms / SIZE);\n        if (rms < 0.01) // not enough signal\n            return -1;\n        var r1 = 0, r2 = SIZE - 1, thres = 0.2;\n        for (var i = 0; i < SIZE / 2; i++)\n            if (Math.abs(this.buffer[i]) < thres) {\n                r1 = i;\n                break;\n            }\n        for (var i = 1; i < SIZE / 2; i++)\n            if (Math.abs(this.buffer[SIZE - i]) < thres) {\n                r2 = SIZE - i;\n                break;\n            }\n        var b2 = this.buffer.slice(r1, r2);\n        SIZE = b2.length;\n        var c = new Array(SIZE).fill(0);\n        for (var i = 0; i < SIZE; i++)\n            for (var j = 0; j < SIZE - i; j++)\n                c[i] = c[i] + b2[j] * b2[j + i];\n        var d = 0;\n        while (c[d] > c[d + 1])\n            d++;\n        var maxval = -1, maxpos = -1;\n        for (var i = d; i < SIZE; i++) {\n            if (c[i] > maxval) {\n                maxval = c[i];\n                maxpos = i;\n            }\n        }\n        var T0 = maxpos;\n        var x1 = c[T0 - 1], x2 = c[T0], x3 = c[T0 + 1];\n        var a = (x1 + x3 - 2 * x2) / 2;\n        var b = (x3 - x1) / 2;\n        if (a)\n            T0 = T0 - b / (2 * a);\n        return sampleRate / T0;\n    };\n    return AudioController;\n}());\n\n\n\n//# sourceURL=webpack://team-raclette/./src/audio-controller.ts?");

/***/ }),

/***/ "./src/controls.ts":
/*!*************************!*\
  !*** ./src/controls.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Controls\": () => /* binding */ Controls\n/* harmony export */ });\n/**\n * User input controls.\n *\n * There are two ways the user can interact with the game: states and events.\n *\n * The states are permanent controls represented by UserControls. Typically, a key pressed.\n * The events are on-off things, like firing a missile.\n *\n * States are handled by polling `getCurrentControls`, and events are sent on the `EventBus`.\n */\nvar Controls = /** @class */ (function () {\n    function Controls(eventBus, audioController) {\n        var _this = this;\n        this.eventBus = eventBus;\n        this.audioController = audioController;\n        this.keyStates = {\n            up: 0,\n            down: 0\n        };\n        window.addEventListener('keydown', function (evt) { return _this.onKeyDown(evt); });\n        window.addEventListener('keyup', function (evt) { return _this.onKeyUp(evt); });\n    }\n    Controls.prototype.getCurrentControls = function () {\n        var audioCtrl = this.audioController.getOutput();\n        return {\n            engineThrottle: audioCtrl === 0 ? this.keyStates.down - this.keyStates.up : audioCtrl\n        };\n    };\n    Controls.prototype.onKeyDown = function (evt) {\n        switch (evt.key) {\n            case ' ':\n                this.eventBus.emit({ _type: 'fire' });\n                break;\n            case 'ArrowUp':\n                this.keyStates.up = 1;\n                break;\n            case 'ArrowDown':\n                this.keyStates.down = 1;\n                break;\n        }\n    };\n    Controls.prototype.onKeyUp = function (evt) {\n        switch (evt.key) {\n            case 'ArrowUp':\n                this.keyStates.up = 0;\n                break;\n            case 'ArrowDown':\n                this.keyStates.down = 0;\n                break;\n        }\n    };\n    return Controls;\n}());\n\n\n\n//# sourceURL=webpack://team-raclette/./src/controls.ts?");

/***/ }),

/***/ "./src/entities/asteroid.ts":
/*!**********************************!*\
  !*** ./src/entities/asteroid.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Asteroid\": () => /* binding */ Asteroid\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.ts\");\n/* harmony import */ var _world__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../world */ \"./src/world.ts\");\n/* harmony import */ var _assets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../assets */ \"./src/assets.ts\");\n/* harmony import */ var _entity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./entity */ \"./src/entities/entity.ts\");\n\n\n\n\n\n/** Scale the tiler relative to the hitbox to get a tight fit */\nvar TILE_SCALING = [\n    1.1,\n    1.25,\n    2.2\n];\nvar Asteroid = /** @class */ (function (_super) {\n    (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__extends)(Asteroid, _super);\n    function Asteroid(x, y, speedX, size) {\n        var _this = _super.call(this) || this;\n        _this.type = 'asteroid';\n        _this.speedY = null;\n        _this.x = x;\n        _this.y = y;\n        _this.size = size;\n        _this.speedX = speedX;\n        _this.xSize = size;\n        _this.ySize = size;\n        _this.rotation = Math.random() * 2 * Math.PI;\n        var spriteId = Math.floor(Math.random() * _assets__WEBPACK_IMPORTED_MODULE_2__.Assets.asteroids.length);\n        _this.sprite = (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.__assign)({}, _assets__WEBPACK_IMPORTED_MODULE_2__.Assets.asteroids[spriteId]), { width: size * TILE_SCALING[spriteId], height: size * TILE_SCALING[spriteId] });\n        _this.y = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.clamp)(_this.y, 0, _world__WEBPACK_IMPORTED_MODULE_1__.World.HEIGHT - _this.ySize);\n        return _this;\n    }\n    Asteroid.prototype.tick = function (deltaTime) {\n        this.x = this.x + deltaTime * this.speedX * 0.25;\n    };\n    Asteroid.prototype.draw = function (ctx) {\n        ctx.save();\n        ctx.translate(this.x + this.size / 2, this.y + this.size / 2);\n        ctx.rotate(this.rotation);\n        _assets__WEBPACK_IMPORTED_MODULE_2__.Assets.drawSprite(this.sprite, -this.sprite.width / 2, -this.sprite.height / 2, ctx);\n        ctx.restore();\n        _super.prototype.draw.call(this, ctx);\n    };\n    return Asteroid;\n}(_entity__WEBPACK_IMPORTED_MODULE_3__.Entity));\n\n\n\n//# sourceURL=webpack://team-raclette/./src/entities/asteroid.ts?");

/***/ }),

/***/ "./src/entities/bounty.ts":
/*!********************************!*\
  !*** ./src/entities/bounty.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Bounty\": () => /* binding */ Bounty\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _assets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../assets */ \"./src/assets.ts\");\n/* harmony import */ var _entity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./entity */ \"./src/entities/entity.ts\");\n\n\n\nvar Bounty = /** @class */ (function (_super) {\n    (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__extends)(Bounty, _super);\n    function Bounty(x, y, speedX) {\n        var _this = _super.call(this) || this;\n        _this.type = 'bounty';\n        _this.speedY = null;\n        _this.x = x;\n        _this.y = y;\n        _this.speedX = speedX;\n        _this.xSize = 40;\n        _this.ySize = 40;\n        return _this;\n    }\n    Bounty.prototype.tick = function (deltaTime) {\n        this.x = this.x + deltaTime * this.speedX;\n    };\n    Bounty.prototype.draw = function (ctx) {\n        _assets__WEBPACK_IMPORTED_MODULE_0__.Assets.drawSprite(_assets__WEBPACK_IMPORTED_MODULE_0__.Assets.bountySprite, this.x, this.y, ctx);\n        _super.prototype.draw.call(this, ctx);\n    };\n    return Bounty;\n}(_entity__WEBPACK_IMPORTED_MODULE_1__.Entity));\n\n\n\n//# sourceURL=webpack://team-raclette/./src/entities/bounty.ts?");

/***/ }),

/***/ "./src/entities/entity.ts":
/*!********************************!*\
  !*** ./src/entities/entity.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Entity\": () => /* binding */ Entity,\n/* harmony export */   \"drawBoundingBox\": () => /* binding */ drawBoundingBox\n/* harmony export */ });\nvar Entity = /** @class */ (function () {\n    function Entity() {\n        this.collisionListeners = new Set();\n    }\n    Entity.prototype.on = function (_evt, handler) {\n        this.collisionListeners.add(handler);\n    };\n    Entity.prototype.off = function (_evt, handler) {\n        this.collisionListeners.delete(handler);\n    };\n    Entity.prototype.collide = function (other) {\n        var _this = this;\n        this.collisionListeners.forEach(function (l) { return l(_this, other); });\n    };\n    Entity.prototype.tick = function (deltaTime) { };\n    Entity.prototype.draw = function (ctx) {\n        if (window.DEBUG) {\n            drawBoundingBox(ctx, this);\n        }\n    };\n    return Entity;\n}());\n\nfunction drawBoundingBox(ctx, entity) {\n    ctx.strokeStyle = '#0f0';\n    ctx.strokeRect(entity.x, entity.y, entity.xSize, entity.ySize);\n}\n\n\n//# sourceURL=webpack://team-raclette/./src/entities/entity.ts?");

/***/ }),

/***/ "./src/entities/missile.ts":
/*!*********************************!*\
  !*** ./src/entities/missile.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Missile\": () => /* binding */ Missile\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _assets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../assets */ \"./src/assets.ts\");\n/* harmony import */ var _entity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./entity */ \"./src/entities/entity.ts\");\n\n\n\nvar Missile = /** @class */ (function (_super) {\n    (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__extends)(Missile, _super);\n    function Missile(x, y, speedX) {\n        var _this = _super.call(this) || this;\n        _this.type = 'missile';\n        _this.speedY = null;\n        _this.x = x;\n        _this.y = y;\n        _this.speedX = speedX;\n        _this.xSize = 35;\n        _this.ySize = 20;\n        return _this;\n    }\n    Missile.prototype.tick = function (deltaTime) {\n        this.x = this.x + deltaTime * this.speedX;\n    };\n    Missile.prototype.draw = function (ctx) {\n        _assets__WEBPACK_IMPORTED_MODULE_0__.Assets.drawSprite(_assets__WEBPACK_IMPORTED_MODULE_0__.Assets.missileImage, this.x, this.y, ctx);\n        _super.prototype.draw.call(this, ctx);\n    };\n    return Missile;\n}(_entity__WEBPACK_IMPORTED_MODULE_1__.Entity));\n\n\n\n//# sourceURL=webpack://team-raclette/./src/entities/missile.ts?");

/***/ }),

/***/ "./src/entities/shield.ts":
/*!********************************!*\
  !*** ./src/entities/shield.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Shield\": () => /* binding */ Shield\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.ts\");\n/* harmony import */ var _world__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../world */ \"./src/world.ts\");\n/* harmony import */ var _assets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../assets */ \"./src/assets.ts\");\n/* harmony import */ var _entity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./entity */ \"./src/entities/entity.ts\");\n\n\n\n\n\nvar Shield = /** @class */ (function (_super) {\n    (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__extends)(Shield, _super);\n    function Shield(x, y, speedX) {\n        var _this = _super.call(this) || this;\n        _this.type = 'shield';\n        _this.speedY = null;\n        _this.x = x;\n        _this.y = y;\n        _this.speedX = speedX;\n        _this.xSize = _assets__WEBPACK_IMPORTED_MODULE_2__.Assets.shieldSprite.width;\n        _this.ySize = _assets__WEBPACK_IMPORTED_MODULE_2__.Assets.shieldSprite.height;\n        _this.y = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.clamp)(_this.y, 0, _world__WEBPACK_IMPORTED_MODULE_1__.World.HEIGHT - _this.ySize);\n        return _this;\n    }\n    Shield.prototype.tick = function (deltaTime) {\n        this.x = this.x + deltaTime * this.speedX * 0.25;\n    };\n    Shield.prototype.draw = function (ctx) {\n        _assets__WEBPACK_IMPORTED_MODULE_2__.Assets.drawSprite(_assets__WEBPACK_IMPORTED_MODULE_2__.Assets.shieldSprite, this.x, this.y, ctx);\n        _super.prototype.draw.call(this, ctx);\n    };\n    return Shield;\n}(_entity__WEBPACK_IMPORTED_MODULE_3__.Entity));\n\n\n\n//# sourceURL=webpack://team-raclette/./src/entities/shield.ts?");

/***/ }),

/***/ "./src/entities/starship.ts":
/*!**********************************!*\
  !*** ./src/entities/starship.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Starship\": () => /* binding */ Starship\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _world__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../world */ \"./src/world.ts\");\n/* harmony import */ var _assets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../assets */ \"./src/assets.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./src/utils.ts\");\n/* harmony import */ var _entity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./entity */ \"./src/entities/entity.ts\");\n\n\n\n\n\nvar Starship = /** @class */ (function (_super) {\n    (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__extends)(Starship, _super);\n    function Starship(x, y, speedY) {\n        var _this = _super.call(this) || this;\n        _this.type = 'starship';\n        _this.speedX = null;\n        _this.throttle = 0;\n        _this.shield = 5;\n        // Drag coefficient. Higher makes it go slower\n        _this.drag = 0.90;\n        // Power of the engine. Higher makes it go faster\n        _this.thrust = 0.05;\n        _this.hitTint = 0;\n        _this.healTint = 0;\n        _this.x = x;\n        _this.y = y;\n        _this.speedY = speedY;\n        _this.xSize = _assets__WEBPACK_IMPORTED_MODULE_1__.Assets.shipSprite.height;\n        _this.ySize = _assets__WEBPACK_IMPORTED_MODULE_1__.Assets.shipSprite.width;\n        return _this;\n    }\n    Starship.prototype.tick = function (deltaTime) {\n        this.speedY = (this.speedY + this.thrust * this.throttle) * this.drag;\n        this.y = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.clamp)(this.speedY * deltaTime + this.y, 0, _world__WEBPACK_IMPORTED_MODULE_0__.World.HEIGHT - this.ySize);\n    };\n    Starship.prototype.hit = function () {\n        this.shield -= 1;\n        this.hitTint = 0.9;\n    };\n    Starship.prototype.shieldBonus = function () {\n        if (this.shield < 5) {\n            this.shield++;\n            this.healTint = 0.5;\n        }\n    };\n    Starship.prototype.draw = function (ctx) {\n        ctx.save();\n        ctx.translate(this.x, this.y);\n        ctx.rotate(Math.PI / 2);\n        ctx.translate(0, -this.xSize);\n        _assets__WEBPACK_IMPORTED_MODULE_1__.Assets.drawSprite(_assets__WEBPACK_IMPORTED_MODULE_1__.Assets.shipSprite, 0, 0, ctx);\n        ctx.restore();\n        if (this.hitTint > 0.01) {\n            ctx.fillStyle = \"rgba(255, 0, 0, \" + this.hitTint;\n            ctx.globalCompositeOperation = 'source-atop';\n            ctx.fillRect(this.x, this.y, this.xSize, this.ySize);\n            ctx.globalCompositeOperation = 'source-over';\n            this.hitTint *= 0.96;\n        }\n        if (this.healTint > 0.01) {\n            ctx.fillStyle = \"rgba(0, 255, 0, \" + this.healTint;\n            ctx.globalCompositeOperation = 'source-atop';\n            ctx.fillRect(this.x, this.y, this.xSize, this.ySize);\n            ctx.globalCompositeOperation = 'source-over';\n            this.healTint *= 0.96;\n        }\n        _super.prototype.draw.call(this, ctx);\n    };\n    return Starship;\n}(_entity__WEBPACK_IMPORTED_MODULE_3__.Entity));\n\n\n\n//# sourceURL=webpack://team-raclette/./src/entities/starship.ts?");

/***/ }),

/***/ "./src/entities/text.ts":
/*!******************************!*\
  !*** ./src/entities/text.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TextEntity\": () => /* binding */ TextEntity\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./entity */ \"./src/entities/entity.ts\");\n\n\nvar TextEntity = /** @class */ (function (_super) {\n    (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__extends)(TextEntity, _super);\n    function TextEntity(text) {\n        var _this = _super.call(this) || this;\n        _this.text = text;\n        _this.type = 'text';\n        _this.x = 300;\n        _this.y = 100;\n        _this.speedX = 0;\n        _this.speedY = null;\n        _this.xSize = 0;\n        _this.ySize = 0;\n        return _this;\n    }\n    TextEntity.prototype.tick = function (deltaTime) {\n        this.x = this.x + deltaTime * this.speedX;\n    };\n    TextEntity.prototype.draw = function (ctx) {\n        ctx.fillStyle = '#fff';\n        ctx.font = '30px monospace';\n        ctx.fillText(this.text, this.x, this.y);\n        _super.prototype.draw.call(this, ctx);\n    };\n    return TextEntity;\n}(_entity__WEBPACK_IMPORTED_MODULE_0__.Entity));\n\n\n\n//# sourceURL=webpack://team-raclette/./src/entities/text.ts?");

/***/ }),

/***/ "./src/events.ts":
/*!***********************!*\
  !*** ./src/events.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EventBus\": () => /* binding */ EventBus\n/* harmony export */ });\nvar EventBus = /** @class */ (function () {\n    function EventBus() {\n        this.listeners = {\n            fire: [],\n            test: [],\n            missileHit: [],\n            gameOver: []\n        };\n    }\n    EventBus.prototype.emit = function (evt) {\n        this.listeners[evt._type].forEach(function (l) { return l(evt); });\n    };\n    EventBus.prototype.on = function (type, handler) {\n        this.listeners[type].push(handler);\n    };\n    return EventBus;\n}());\n\n\n\n//# sourceURL=webpack://team-raclette/./src/events.ts?");

/***/ }),

/***/ "./src/game.ts":
/*!*********************!*\
  !*** ./src/game.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Game\": () => /* binding */ Game\n/* harmony export */ });\n/* harmony import */ var _audio_controller__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./audio-controller */ \"./src/audio-controller.ts\");\n/* harmony import */ var _controls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./controls */ \"./src/controls.ts\");\n/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events */ \"./src/events.ts\");\n/* harmony import */ var _gameScene__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./gameScene */ \"./src/gameScene.ts\");\n/* harmony import */ var _graphics__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./graphics */ \"./src/graphics.ts\");\n\n\n\n\n\nvar Game = /** @class */ (function () {\n    function Game() {\n        var _this = this;\n        this.stopped = true;\n        this.eventBus = new _events__WEBPACK_IMPORTED_MODULE_2__.EventBus();\n        this.audioController = new _audio_controller__WEBPACK_IMPORTED_MODULE_0__.AudioController(this.eventBus);\n        this.controls = new _controls__WEBPACK_IMPORTED_MODULE_1__.Controls(this.eventBus, this.audioController);\n        this.loop = function () {\n            var _a;\n            if (_this.stopped) {\n                return;\n            }\n            var newTime = (new Date()).getTime();\n            _this.scene.tick(newTime - _this.lastTime);\n            (_a = _this.level) === null || _a === void 0 ? void 0 : _a.tick(newTime - _this.lastTime);\n            _this.graphics.updateGraphics(newTime);\n            _this.lastTime = newTime;\n            requestAnimationFrame(_this.loop);\n        };\n        this.scene = new _gameScene__WEBPACK_IMPORTED_MODULE_3__.GameScene(this.eventBus, this.controls);\n        this.graphics = new _graphics__WEBPACK_IMPORTED_MODULE_4__.Graphics(this.scene);\n        this.lastTime = (new Date()).getTime();\n    }\n    /**\n     * needs to be called in response to a user input.\n     */\n    Game.prototype.grabInputs = function () {\n        this.audioController.init();\n    };\n    Game.prototype.loadLevel = function (level) {\n        var _a;\n        this.scene = new _gameScene__WEBPACK_IMPORTED_MODULE_3__.GameScene(this.eventBus, this.controls);\n        this.graphics = new _graphics__WEBPACK_IMPORTED_MODULE_4__.Graphics(this.scene);\n        (_a = this.level) === null || _a === void 0 ? void 0 : _a.unload();\n        this.level = new level(this.eventBus, this.scene);\n    };\n    Game.prototype.stop = function () {\n        var _a;\n        (_a = this.level) === null || _a === void 0 ? void 0 : _a.unload();\n        this.stopped = true;\n    };\n    Game.prototype.start = function () {\n        var _a;\n        this.grabInputs();\n        this.stopped = false;\n        (_a = this.level) === null || _a === void 0 ? void 0 : _a.load();\n        this.loop();\n    };\n    return Game;\n}());\n\n\n\n//# sourceURL=webpack://team-raclette/./src/game.ts?");

/***/ }),

/***/ "./src/gameScene.ts":
/*!**************************!*\
  !*** ./src/gameScene.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GameScene\": () => /* binding */ GameScene\n/* harmony export */ });\n/* harmony import */ var _world__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./world */ \"./src/world.ts\");\n/* harmony import */ var _entities_starship__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./entities/starship */ \"./src/entities/starship.ts\");\n\n\nvar GameScene = /** @class */ (function () {\n    function GameScene(eventBus, controls) {\n        this.eventBus = eventBus;\n        this.controls = controls;\n        this.starship = new _entities_starship__WEBPACK_IMPORTED_MODULE_1__.Starship(10, _world__WEBPACK_IMPORTED_MODULE_0__.World.HEIGHT / 2, 0);\n        this.entities = new Set();\n        this.world = new _world__WEBPACK_IMPORTED_MODULE_0__.World(); // It's a new day, it's a new life... for me\n        this.score = 0;\n        this.entities.add(this.starship);\n    }\n    GameScene.prototype.tick = function (deltaTime) {\n        this.world.tick(deltaTime);\n        this.starship.throttle = this.controls.getCurrentControls().engineThrottle;\n        this.entities.forEach(function (x) { return x.tick(deltaTime); });\n        this.handleCollisions();\n    };\n    GameScene.prototype.addEntity = function (entity) {\n        this.entities.add(entity);\n    };\n    GameScene.prototype.removeEntity = function (entity) {\n        this.entities.delete(entity);\n    };\n    GameScene.prototype.addToScore = function (n) {\n        this.score += n;\n        if (this.score % 10 === 0) {\n            this.starship.shieldBonus();\n        }\n    };\n    GameScene.prototype.handleCollisions = function () {\n        // Inefficient collision detection... who cares?\n        var entities = Array.from(this.entities.values());\n        for (var i = 0; i < entities.length; i++) {\n            var a = entities[i];\n            for (var j = i + 1; j < entities.length; j++) {\n                var b = entities[j];\n                if (this.collisionDetection(a, b)) {\n                    a.collide(b);\n                    b.collide(a);\n                }\n            }\n        }\n    };\n    GameScene.prototype.collisionDetection = function (t1, t2) {\n        var xCollide = (t1.x <= t2.x && t1.x + t1.xSize >= t2.x) ||\n            (t2.x <= t1.x && t2.x + t2.xSize >= t1.x);\n        var yCollide = (t1.y <= t2.y && t1.y + t1.ySize >= t2.y) ||\n            (t2.y <= t1.y && t2.y + t2.ySize >= t1.y);\n        return xCollide && yCollide;\n    };\n    return GameScene;\n}());\n\n\n\n//# sourceURL=webpack://team-raclette/./src/gameScene.ts?");

/***/ }),

/***/ "./src/graphics.ts":
/*!*************************!*\
  !*** ./src/graphics.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Graphics\": () => /* binding */ Graphics\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _world__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./world */ \"./src/world.ts\");\n/* harmony import */ var _assets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assets */ \"./src/assets.ts\");\n\n\n\nvar Graphics = /** @class */ (function () {\n    function Graphics(gameScene) {\n        var _this = this;\n        this.gameScene = gameScene;\n        this.scaling = 1;\n        this.time = new Date().getTime();\n        this.backgroundObjectsLvl1 = [];\n        this.backgroundObjectsLvl2 = [];\n        this.backgroundObjectsLvl3 = [];\n        this.updateGraphics = function (time) {\n            _this.drawCanvasScene();\n            if (_this.ctx) {\n                _this.calculateBackgroundParallax(time);\n                _this.layerBackground(_this.ctx);\n                _this.gameScene.entities.forEach(function (entity) { return entity.draw(_this.ctx); });\n                _this.drawShield(_this.ctx, _this.gameScene.starship.shield);\n                _this.drawScore(_this.ctx, _this.gameScene.score);\n            }\n        };\n        this.canvas = document.getElementById('screen');\n        var context = this.canvas.getContext('2d');\n        if (context == null) {\n            throw new Error(\"Your browser doesn't support canvas\");\n        }\n        this.ctx = context;\n        window.addEventListener('resize', function () { return _this.initTransforms(); }, {\n            passive: true\n        });\n        this.initTransforms();\n    }\n    /**\n     * Initializes the canvas resolution and the screen space transform.\n     */\n    Graphics.prototype.initTransforms = function () {\n        var pixelRatio = window.devicePixelRatio;\n        // Figure out if we are height-bound or width-bound\n        var heightRatio = window.innerHeight / _world__WEBPACK_IMPORTED_MODULE_0__.World.HEIGHT;\n        var widthRatio = window.innerWidth / _world__WEBPACK_IMPORTED_MODULE_0__.World.WIDTH;\n        if (heightRatio < widthRatio) {\n            // Fit to height\n            this.scaling = heightRatio;\n        }\n        else {\n            // Fit to width\n            this.scaling = widthRatio;\n        }\n        var width = this.scaling * _world__WEBPACK_IMPORTED_MODULE_0__.World.WIDTH;\n        var height = this.scaling * _world__WEBPACK_IMPORTED_MODULE_0__.World.HEIGHT;\n        // Resize canvas\n        this.canvas.style.width = width + \"px\";\n        this.canvas.style.height = height + \"px\";\n        this.canvas.width = width * pixelRatio;\n        this.canvas.height = height * pixelRatio;\n        this.ctx.scale(this.scaling * pixelRatio, this.scaling * pixelRatio);\n        // Disable smoothing because we use pixel art. Pixel art doesn't need to be smoothed\n        this.ctx.imageSmoothingEnabled = false;\n    };\n    Graphics.prototype.drawScore = function (ctx, score) {\n        ctx.fillStyle = score % 10 === 0 && score !== 0 ? '#4287f5' : '#fff';\n        ctx.font = '30px sans-serif';\n        ctx.fillText(score.toString(), _world__WEBPACK_IMPORTED_MODULE_0__.World.WIDTH - 180 + 78, 80);\n    };\n    Graphics.prototype.drawShield = function (ctx, shieldPoint) {\n        for (var i = 0; i < shieldPoint; i++) {\n            _assets__WEBPACK_IMPORTED_MODULE_1__.Assets.drawSprite(_assets__WEBPACK_IMPORTED_MODULE_1__.Assets.shieldSprite, _world__WEBPACK_IMPORTED_MODULE_0__.World.WIDTH - 180 + 35 * i, 10, ctx);\n        }\n    };\n    Graphics.prototype.clear = function () {\n        this.ctx.save();\n        this.ctx.resetTransform();\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.ctx.restore();\n    };\n    Graphics.prototype.drawCanvasScene = function () {\n        this.clear();\n        if (window.DEBUG) {\n            this.ctx.strokeStyle = '#f00';\n            this.ctx.strokeRect(0, 0, _world__WEBPACK_IMPORTED_MODULE_0__.World.WIDTH, _world__WEBPACK_IMPORTED_MODULE_0__.World.HEIGHT);\n        }\n    };\n    Graphics.prototype.calculateBackgroundParallax = function (newTimeStamp) {\n        var oneSecond = 20;\n        if (this.time + oneSecond < newTimeStamp) {\n            this.time = newTimeStamp;\n            this.backgroundObjectsLvl1 = this.backgroundObjectsLvl1.map(function (_a) {\n                var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__read)(_a, 4), p = _b[0], x = _b[1], y = _b[2], offset = _b[3];\n                return [p, x, y, offset + 1];\n            });\n            this.backgroundObjectsLvl2 = this.backgroundObjectsLvl2.map(function (_a) {\n                var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__read)(_a, 4), p = _b[0], x = _b[1], y = _b[2], offset = _b[3];\n                return [p, x, y, offset + 1];\n            });\n            this.backgroundObjectsLvl3 = this.backgroundObjectsLvl3.map(function (_a) {\n                var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__read)(_a, 4), p = _b[0], x = _b[1], y = _b[2], offset = _b[3];\n                return [p, x, y, offset + 1];\n            });\n        }\n    };\n    Graphics.prototype.layerBackground = function (ctx) {\n        this.ctx.globalCompositeOperation = '';\n        this.backgroundObjectsLvl3 = this.drawParallaxBackground(ctx, this.backgroundObjectsLvl3, 1, function () { return _assets__WEBPACK_IMPORTED_MODULE_1__.Assets.getBackground1(4); }, 0.2);\n        this.backgroundObjectsLvl2 = this.drawParallaxBackground(ctx, this.backgroundObjectsLvl2, 2, function () { return _assets__WEBPACK_IMPORTED_MODULE_1__.Assets.getBackground2(12); }, 0.2);\n        this.backgroundObjectsLvl1 = this.drawParallaxBackground(ctx, this.backgroundObjectsLvl1, 2.5, function () { return _assets__WEBPACK_IMPORTED_MODULE_1__.Assets.getPlanets(15); }, 0.1);\n    };\n    Graphics.prototype.drawParallaxBackground = function (ctx, objectList, speed, assets, opacity) {\n        var SAFETY_MARGIN = 100;\n        if (objectList.length == 0) {\n            var all = assets().map(function (e) {\n                return [e, _world__WEBPACK_IMPORTED_MODULE_0__.World.WIDTH - Math.random() * (_world__WEBPACK_IMPORTED_MODULE_0__.World.WIDTH - SAFETY_MARGIN), Math.random() * _world__WEBPACK_IMPORTED_MODULE_0__.World.HEIGHT, 0];\n            });\n            return all;\n        }\n        var drawAndMap = function (speed) { return function (_a) {\n            var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__read)(_a, 4), p = _b[0], x = _b[1], y = _b[2], offset = _b[3];\n            var pos = _world__WEBPACK_IMPORTED_MODULE_0__.World.WIDTH - x - (offset * speed);\n            _assets__WEBPACK_IMPORTED_MODULE_1__.Assets.drawSprite(p, pos, y, ctx, opacity);\n            return [p, x, y, offset];\n        }; };\n        var newBackgroundList = objectList\n            .filter(function (_a) {\n            var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__read)(_a, 4), p = _b[0], x = _b[1], y = _b[2], offset = _b[3];\n            return (_world__WEBPACK_IMPORTED_MODULE_0__.World.WIDTH - x - (offset * speed)) > -SAFETY_MARGIN;\n        })\n            .map(drawAndMap(speed));\n        // push new if to less\n        if (newBackgroundList.length < objectList.length) {\n            var newStuff = assets().slice(0, 1).map(function (e) {\n                return [e, (-400 + Math.random() * 400), Math.random() * _world__WEBPACK_IMPORTED_MODULE_0__.World.HEIGHT, 0];\n            });\n            var all = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__spread)(newStuff, newBackgroundList);\n            return all;\n        }\n        return newBackgroundList;\n    };\n    return Graphics;\n}());\n\n\n\n//# sourceURL=webpack://team-raclette/./src/graphics.ts?");

/***/ }),

/***/ "./src/levels/level1.ts":
/*!******************************!*\
  !*** ./src/levels/level1.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Level1\": () => /* binding */ Level1\n/* harmony export */ });\n/* harmony import */ var _entities_shield__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../entities/shield */ \"./src/entities/shield.ts\");\n/* harmony import */ var _entities_asteroid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../entities/asteroid */ \"./src/entities/asteroid.ts\");\n/* harmony import */ var _world__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../world */ \"./src/world.ts\");\n/* harmony import */ var _rules_standard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./rules/standard */ \"./src/levels/rules/standard.ts\");\n\n\n\n\nvar Level1 = /** @class */ (function () {\n    function Level1(eventBus, scene) {\n        this.eventBus = eventBus;\n        this.scene = scene;\n        this.standardRules = new _rules_standard__WEBPACK_IMPORTED_MODULE_3__.StandardRules(this.eventBus, this.scene);\n        this.totalDeltaTime = 0;\n        this.DELTA_TIME_POP = 500;\n        this.CHANCE_SHIELD = 0.1;\n    }\n    Level1.prototype.load = function () {\n        // Apply the standard rules\n        this.standardRules.applyStandardRules();\n        // for (let i = 0 ; i < 5 ; i++) {\n        //     this.scene.addEntity(new Asteroid(\n        //         ~~(Math.random() * World.WIDTH),\n        //         ~~(Math.random() * World.HEIGHT),\n        //         -1 * (~~(Math.random() * 2) + 1),\n        //         ~~(Math.random() * 150 + 40)));\n        // }\n    };\n    Level1.prototype.tick = function (deltaTime) {\n        if (this.scene.starship.shield == 0) {\n            this.gameOver();\n        }\n        this.totalDeltaTime += deltaTime;\n        if (this.totalDeltaTime > this.DELTA_TIME_POP) {\n            for (var i = 0; i < ~~(Math.random() * 5); i++) {\n                var asteroid = new _entities_asteroid__WEBPACK_IMPORTED_MODULE_1__.Asteroid(_world__WEBPACK_IMPORTED_MODULE_2__.World.WIDTH, ~~(Math.random() * _world__WEBPACK_IMPORTED_MODULE_2__.World.HEIGHT), -1 * (~~(Math.random() * 2) + 1), this.getAsteroidSize());\n                this.standardRules.applyAsteroidRules(asteroid);\n                this.scene.addEntity(asteroid);\n            }\n            if (Math.random() < this.CHANCE_SHIELD) {\n                var shield = new _entities_shield__WEBPACK_IMPORTED_MODULE_0__.Shield(_world__WEBPACK_IMPORTED_MODULE_2__.World.WIDTH, ~~(Math.random() * _world__WEBPACK_IMPORTED_MODULE_2__.World.HEIGHT), -1);\n                this.standardRules.applyShieldRules(shield);\n                this.scene.addEntity(shield);\n            }\n            this.totalDeltaTime %= this.DELTA_TIME_POP;\n        }\n    };\n    Level1.prototype.getAsteroidSize = function () {\n        var r = Math.random();\n        // Square law: There are more small asteroids than big ones\n        return ~~(r * r * 150 + 40);\n    };\n    Level1.prototype.unload = function () {\n    };\n    Level1.prototype.gameOver = function () {\n        this.eventBus.emit({\n            _type: 'gameOver',\n            success: true\n        });\n    };\n    return Level1;\n}());\n\n\n\n//# sourceURL=webpack://team-raclette/./src/levels/level1.ts?");

/***/ }),

/***/ "./src/levels/rules/standard.ts":
/*!**************************************!*\
  !*** ./src/levels/rules/standard.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"StandardRules\": () => /* binding */ StandardRules\n/* harmony export */ });\n/* harmony import */ var _assets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../assets */ \"./src/assets.ts\");\n/* harmony import */ var _entities_missile__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../entities/missile */ \"./src/entities/missile.ts\");\n\n\nvar StandardRules = /** @class */ (function () {\n    function StandardRules(eventBus, scene) {\n        this.eventBus = eventBus;\n        this.scene = scene;\n    }\n    StandardRules.prototype.applyStandardRules = function () {\n        this.applyFireMissileRule();\n        this.applyMissileEffectRule();\n    };\n    /**\n     * Game rule to fire a missile from the ship\n     */\n    StandardRules.prototype.applyFireMissileRule = function () {\n        var _this = this;\n        this.eventBus.on('fire', function () {\n            var ship = _this.scene.starship;\n            var missile = new _entities_missile__WEBPACK_IMPORTED_MODULE_1__.Missile(ship.x + _assets__WEBPACK_IMPORTED_MODULE_0__.Assets.shipSprite.height * 0.9, ship.y + _assets__WEBPACK_IMPORTED_MODULE_0__.Assets.shipSprite.width / 2, 2);\n            missile.on('collision', function (missile, target) {\n                _this.eventBus.emit({\n                    _type: 'missileHit',\n                    missile: missile, target: target\n                });\n            });\n            _this.scene.addEntity(missile);\n        });\n    };\n    /**\n     * Effect of the missile on the asteroid\n     */\n    StandardRules.prototype.applyMissileEffectRule = function () {\n        var _this = this;\n        this.eventBus.on('missileHit', function (evt) {\n            switch (evt.target.type) {\n                case 'asteroid':\n                    _this.scene.removeEntity(evt.target);\n                    _this.scene.removeEntity(evt.missile);\n                    _this.scene.addToScore(1);\n            }\n        });\n    };\n    StandardRules.prototype.applyAsteroidRules = function (asteroid) {\n        var _this = this;\n        asteroid.on('collision', function (self, other) {\n            if (other.type === 'starship') {\n                _this.scene.removeEntity(asteroid);\n                other.hit();\n            }\n        });\n    };\n    StandardRules.prototype.applyShieldRules = function (shield) {\n        var _this = this;\n        shield.on('collision', function (self, other) {\n            if (other.type === 'starship') {\n                _this.scene.removeEntity(shield);\n                other.shieldBonus();\n            }\n        });\n    };\n    return StandardRules;\n}());\n\n\n\n//# sourceURL=webpack://team-raclette/./src/levels/rules/standard.ts?");

/***/ }),

/***/ "./src/levels/tutorial.ts":
/*!********************************!*\
  !*** ./src/levels/tutorial.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TutorialLevel\": () => /* binding */ TutorialLevel\n/* harmony export */ });\n/* harmony import */ var _rules_standard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rules/standard */ \"./src/levels/rules/standard.ts\");\n/* harmony import */ var _entities_text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../entities/text */ \"./src/entities/text.ts\");\n/* harmony import */ var _entities_bounty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../entities/bounty */ \"./src/entities/bounty.ts\");\n/* harmony import */ var _world__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../world */ \"./src/world.ts\");\n/* harmony import */ var _entities_asteroid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../entities/asteroid */ \"./src/entities/asteroid.ts\");\n\n\n\n\n\n/**\n * This level is the intro level to help the player get started.\n */\nvar TutorialLevel = /** @class */ (function () {\n    function TutorialLevel(eventBus, scene) {\n        this.eventBus = eventBus;\n        this.scene = scene;\n        this.standardRules = new _rules_standard__WEBPACK_IMPORTED_MODULE_0__.StandardRules(this.eventBus, this.scene);\n    }\n    TutorialLevel.prototype.load = function () {\n        // Apply the standard rules\n        this.standardRules.applyStandardRules();\n        this.startBountyDown();\n    };\n    TutorialLevel.prototype.tick = function () {\n    };\n    TutorialLevel.prototype.unload = function () {\n    };\n    TutorialLevel.prototype.startBountyDown = function () {\n        var _this = this;\n        var text = new _entities_text__WEBPACK_IMPORTED_MODULE_1__.TextEntity('Navigate your ship down to catch the sphere.');\n        this.scene.addEntity(text);\n        var bounty = new _entities_bounty__WEBPACK_IMPORTED_MODULE_2__.Bounty(100, _world__WEBPACK_IMPORTED_MODULE_3__.World.HEIGHT - 100, 0);\n        this.scene.addEntity(bounty);\n        bounty.on('collision', function (self, other) {\n            if (other.type === 'starship') {\n                _this.scene.removeEntity(bounty);\n                _this.scene.removeEntity(text);\n                _this.startBountyUp();\n            }\n        });\n    };\n    TutorialLevel.prototype.startBountyUp = function () {\n        var _this = this;\n        var text = new _entities_text__WEBPACK_IMPORTED_MODULE_1__.TextEntity('Navigate your ship up to catch the sphere.');\n        this.scene.addEntity(text);\n        var bounty = new _entities_bounty__WEBPACK_IMPORTED_MODULE_2__.Bounty(100, 100, 0);\n        this.scene.addEntity(bounty);\n        bounty.on('collision', function (self, other) {\n            if (other.type === 'starship') {\n                _this.scene.removeEntity(bounty);\n                _this.scene.removeEntity(text);\n                _this.startShootingPractice();\n            }\n        });\n    };\n    TutorialLevel.prototype.startShootingPractice = function () {\n        var _this = this;\n        var text = new _entities_text__WEBPACK_IMPORTED_MODULE_1__.TextEntity('Scream to fire a missile at the asteroid!');\n        this.scene.addEntity(text);\n        var target = new _entities_asteroid__WEBPACK_IMPORTED_MODULE_4__.Asteroid(_world__WEBPACK_IMPORTED_MODULE_3__.World.WIDTH - 200, _world__WEBPACK_IMPORTED_MODULE_3__.World.HEIGHT / 2, 0, 80);\n        this.scene.addEntity(target);\n        target.on('collision', function (self, other) {\n            if (other.type === 'missile') {\n                _this.scene.removeEntity(target);\n                _this.scene.removeEntity(text);\n                _this.scene.addEntity(new _entities_text__WEBPACK_IMPORTED_MODULE_1__.TextEntity('Well done!'));\n                _this.eventBus.emit({\n                    _type: 'gameOver',\n                    success: true\n                });\n            }\n        });\n    };\n    return TutorialLevel;\n}());\n\n\n\n//# sourceURL=webpack://team-raclette/./src/levels/tutorial.ts?");

/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _menu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./menu */ \"./src/menu.ts\");\n/* harmony import */ var _assets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assets */ \"./src/assets.ts\");\n\n\nfunction main() {\n    // ENABLE DEBUG RENDERING\n    // window.DEBUG = true;\n    _assets__WEBPACK_IMPORTED_MODULE_1__.Assets.init().then(function () {\n        new _menu__WEBPACK_IMPORTED_MODULE_0__.Menu();\n    });\n}\nwindow.addEventListener('load', main);\n\n\n//# sourceURL=webpack://team-raclette/./src/main.ts?");

/***/ }),

/***/ "./src/menu.ts":
/*!*********************!*\
  !*** ./src/menu.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Menu\": () => /* binding */ Menu\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _levels_level1__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./levels/level1 */ \"./src/levels/level1.ts\");\n/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./game */ \"./src/game.ts\");\n/* harmony import */ var _levels_tutorial__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./levels/tutorial */ \"./src/levels/tutorial.ts\");\n/* harmony import */ var _user_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user-config */ \"./src/user-config.ts\");\n\n\n\n\n\nvar Menu = /** @class */ (function () {\n    function Menu() {\n        var _this = this;\n        this.playBtn = document.getElementById('play-btn');\n        this.tutorialBtn = document.getElementById('tutorial-btn');\n        this.configBtn = document.getElementById('config-btn');\n        this.menu = document.getElementById('menu');\n        this.menu2 = document.getElementById('menu-2');\n        this.debugBox = document.getElementById('checkbox-debug');\n        this.loading = document.getElementById('loading');\n        this.game = new _game__WEBPACK_IMPORTED_MODULE_1__.Game();\n        this.config = new _user_config__WEBPACK_IMPORTED_MODULE_3__.UserConfig(this.game.audioController);\n        this.loading.style.display = 'none';\n        this.playBtn.addEventListener('click', function () { return _this.play(); });\n        this.tutorialBtn.addEventListener('click', function () { return _this.playTutorial(); });\n        this.configBtn.addEventListener('click', function () { return _this.configure(); });\n        this.debugBox.checked = window.DEBUG;\n        this.debugBox.addEventListener('change', function (evt) {\n            window.DEBUG = _this.debugBox.checked;\n        });\n        this.showMenu();\n        window.addEventListener('keydown', function (evt) {\n            if (evt.key === 'Escape') {\n                _this.toggleMenu();\n            }\n        });\n        this.game.eventBus.on('gameOver', function () {\n            _this.game.stop();\n            setTimeout(function () {\n                _this.showMenu();\n            }, 500);\n        });\n    }\n    Menu.prototype.play = function () {\n        // TODO: Unload the previous level and clean everything up. Maybe create a new game to make sure there isn't anything left behind?\n        this.game.loadLevel(_levels_level1__WEBPACK_IMPORTED_MODULE_0__.Level1);\n        this.game.start();\n        this.hideMenu();\n    };\n    Menu.prototype.playTutorial = function () {\n        this.game.loadLevel(_levels_tutorial__WEBPACK_IMPORTED_MODULE_2__.TutorialLevel);\n        this.game.start();\n        this.hideMenu();\n    };\n    Menu.prototype.configure = function () {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(this, void 0, void 0, function () {\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.hideMenu();\n                        this.menu2.style.display = '';\n                        return [4 /*yield*/, new Promise(function (resolve) { return setTimeout(resolve, 1000); })];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this.config.configure()];\n                    case 2:\n                        _a.sent();\n                        this.menu2.style.display = 'none';\n                        this.showMenu();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Menu.prototype.toggleMenu = function () {\n        if (this.isVisible()) {\n            this.hideMenu();\n        }\n        else {\n            this.showMenu();\n        }\n    };\n    Menu.prototype.isVisible = function () {\n        return this.menu.style.display !== 'none';\n    };\n    Menu.prototype.showMenu = function () {\n        this.menu.style.display = '';\n    };\n    Menu.prototype.hideMenu = function () {\n        this.menu.style.display = 'none';\n    };\n    return Menu;\n}());\n\n\n\n//# sourceURL=webpack://team-raclette/./src/menu.ts?");

/***/ }),

/***/ "./src/user-config.ts":
/*!****************************!*\
  !*** ./src/user-config.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"UserConfig\": () => /* binding */ UserConfig\n/* harmony export */ });\nvar UserConfig = /** @class */ (function () {\n    function UserConfig(audioController) {\n        var _this = this;\n        this.audioController = audioController;\n        this.configCallback = null;\n        this.currentMaxFreq = 0;\n        this.currentMinFreq = 44000;\n        this.nSamples = 0;\n        this.MAX_SAMPLES = 120;\n        this.configLoop = function () {\n            var currentFreq = _this.audioController.getCurrentFrequency();\n            if (currentFreq != null) {\n                console.log(\"sample: \" + currentFreq);\n                if (currentFreq > _this.currentMaxFreq) {\n                    _this.currentMaxFreq = currentFreq;\n                }\n                else if (currentFreq < _this.currentMinFreq) {\n                    _this.currentMinFreq = currentFreq;\n                }\n                if (_this.finalize()) {\n                    return;\n                }\n            }\n            requestAnimationFrame(_this.configLoop);\n        };\n    }\n    UserConfig.prototype.configure = function () {\n        var _this = this;\n        this.audioController.init();\n        if (this.configCallback != null) {\n            throw new Error('Already configuring');\n        }\n        return new Promise(function (resolve) {\n            _this.configCallback = resolve;\n            _this.configLoop();\n        });\n    };\n    UserConfig.prototype.finalize = function () {\n        if (this.nSamples++ >= this.MAX_SAMPLES) {\n            console.log(\"Config: \" + this.currentMinFreq + \" - \" + this.currentMaxFreq);\n            this.audioController.calibrate({\n                minFrequency: this.currentMinFreq,\n                maxFrequency: this.currentMaxFreq\n            });\n            var cb = this.configCallback;\n            this.configCallback = null;\n            cb === null || cb === void 0 ? void 0 : cb();\n            return true;\n        }\n        return false;\n    };\n    return UserConfig;\n}());\n\n\n\n//# sourceURL=webpack://team-raclette/./src/user-config.ts?");

/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"clamp\": () => /* binding */ clamp\n/* harmony export */ });\n/**\n * Clamps value between min and max.\n */\nfunction clamp(value, min, max) {\n    return Math.min(max, Math.max(min, value));\n}\n\n\n//# sourceURL=webpack://team-raclette/./src/utils.ts?");

/***/ }),

/***/ "./src/world.ts":
/*!**********************!*\
  !*** ./src/world.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"World\": () => /* binding */ World\n/* harmony export */ });\nvar World = /** @class */ (function () {\n    function World() {\n        this.scrollPosition = 0;\n    }\n    World.prototype.getScrollPosition = function () {\n        return this.scrollPosition;\n    };\n    /**\n     * Runs one world tick. Requires an absolute time.\n     */\n    World.prototype.tick = function (time) {\n        this.scrollPosition += time * World.SCROLL_SPEED;\n    };\n    World.WIDTH = 1600;\n    World.HEIGHT = 900;\n    /**\n     * Speed at which the worlds scrolls by in units per second\n     */\n    World.SCROLL_SPEED = 35;\n    return World;\n}());\n\n\n\n//# sourceURL=webpack://team-raclette/./src/world.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/******/ 	// the startup function
/******/ 	// It's empty as some runtime module handles the default behavior
/******/ 	__webpack_require__.x = x => {}
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// Promise = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"app": 0
/******/ 		};
/******/ 		
/******/ 		var deferredModules = [
/******/ 			["./src/main.ts","vendors"]
/******/ 		];
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		var checkDeferredModules = x => {};
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime, executeModules] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0, resolves = [];
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					resolves.push(installedChunks[chunkId][0]);
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			for(moduleId in moreModules) {
/******/ 				if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 					__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 				}
/******/ 			}
/******/ 			if(runtime) runtime(__webpack_require__);
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			while(resolves.length) {
/******/ 				resolves.shift()();
/******/ 			}
/******/ 		
/******/ 			// add entry modules from loaded chunk to deferred list
/******/ 			if(executeModules) deferredModules.push.apply(deferredModules, executeModules);
/******/ 		
/******/ 			// run deferred modules when all chunks ready
/******/ 			return checkDeferredModules();
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkteam_raclette"] = self["webpackChunkteam_raclette"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 		
/******/ 		function checkDeferredModulesImpl() {
/******/ 			var result;
/******/ 			for(var i = 0; i < deferredModules.length; i++) {
/******/ 				var deferredModule = deferredModules[i];
/******/ 				var fulfilled = true;
/******/ 				for(var j = 1; j < deferredModule.length; j++) {
/******/ 					var depId = deferredModule[j];
/******/ 					if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferredModules.splice(i--, 1);
/******/ 					result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 				}
/******/ 			}
/******/ 			if(deferredModules.length === 0) {
/******/ 				__webpack_require__.x();
/******/ 				__webpack_require__.x = x => {};
/******/ 			}
/******/ 			return result;
/******/ 		}
/******/ 		var startup = __webpack_require__.x;
/******/ 		__webpack_require__.x = () => {
/******/ 			// reset startup function so it can be called again when more startup code is added
/******/ 			__webpack_require__.x = startup || (x => {});
/******/ 			return (checkDeferredModules = checkDeferredModulesImpl)();
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	// run startup
/******/ 	return __webpack_require__.x();
/******/ })()
;